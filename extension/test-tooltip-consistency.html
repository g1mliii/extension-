<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tooltip Consistency Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #444;
            padding: 8px;
            text-align: left;
        }
        .comparison-table th {
            background: #333;
        }
        .match { color: #4CAF50; }
        .different { color: #f44336; }
        .fixed { color: #2196F3; }
    </style>
</head>
<body>
    <h1>Tooltip Consistency Test</h1>
    
    <div class="test-section">
        <h2>Tooltip Size Comparison</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Rating Guide Tooltip</th>
                    <th>Trust Score Tooltip</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Width</td>
                    <td>280px</td>
                    <td class="fixed">280px (was 240px)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Max Width</td>
                    <td>calc(100vw - 40px)</td>
                    <td class="fixed">calc(100vw - 40px) (was 85vw)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Background</td>
                    <td>rgba(15, 23, 42, 0.98)</td>
                    <td class="fixed">rgba(15, 23, 42, 0.98) (was 0.95)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Backdrop Filter</td>
                    <td>var(--glass-backdrop-strong)</td>
                    <td class="fixed">var(--glass-backdrop-strong)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Border</td>
                    <td>1px solid var(--border-color)</td>
                    <td class="fixed">1px solid var(--border-color)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Border Radius</td>
                    <td>var(--radius-lg)</td>
                    <td class="fixed">var(--radius-lg)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Box Shadow</td>
                    <td>var(--shadow-xl) + glow</td>
                    <td class="fixed">var(--shadow-xl) + glow</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Z-Index</td>
                    <td>2000</td>
                    <td class="fixed">2000 (was 10000)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
                <tr>
                    <td>Transition</td>
                    <td>var(--transition-normal)</td>
                    <td class="fixed">var(--transition-normal)</td>
                    <td class="fixed">✅ FIXED</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="test-section">
        <h2>Visual Consistency Checklist</h2>
        <ul>
            <li class="match">✅ Both tooltips now have identical width (280px)</li>
            <li class="match">✅ Both tooltips use same max-width calculation</li>
            <li class="match">✅ Both tooltips use same background opacity (0.98)</li>
            <li class="match">✅ Both tooltips use same CSS variables for styling</li>
            <li class="match">✅ Both tooltips use same z-index (2000)</li>
            <li class="match">✅ Both tooltips use same transition timing</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>Manual Testing</h2>
        <p><strong>Instructions:</strong></p>
        <ol>
            <li>Load the extension popup</li>
            <li>Click the "?" button in the trust score header</li>
            <li>Note the size and appearance of the trust score tooltip</li>
            <li>Close it and click the "?" button in the rating section</li>
            <li>Compare the size and appearance of the rating guide tooltip</li>
            <li>Both should now look identical in size and styling</li>
        </ol>
        
        <p><strong>Expected Result:</strong></p>
        <ul>
            <li>Both tooltips should be exactly the same width (280px)</li>
            <li>Both should have identical styling and visual appearance</li>
            <li>Both should use the same iOS 26 liquid glass theme</li>
            <li>No visual differences should be apparent</li>
        </ul>
    </div>
    
    <script>
        console.log('Tooltip Consistency Test loaded');
        console.log('Changes made to trust-score-tooltip.js:');
        console.log('- Width: 240px → 280px');
        console.log('- Max-width: 85vw → calc(100vw - 40px)');
        console.log('- Background: 0.95 → 0.98 opacity');
        console.log('- Updated to use CSS variables for consistency');
        console.log('- Z-index: 10000 → 2000');
    </script>
</body>
</html>